{"version":3,"sources":["../src/pdf-viewer/pdf-viewer.component.ts"],"names":[],"mappings":"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","file":"pdf-viewer.component.js","sourcesContent":["/**\n * Created by vadimdez on 21/06/16.\n */\nimport {\n  Component, Input, Output, ElementRef, EventEmitter, OnChanges, SimpleChanges, OnInit, HostListener\n} from '@angular/core';\nimport { PDFDocumentProxy, PDFViewerParams, PDFPageProxy, PDFSource, PDFProgressData, PDFPromise } from 'pdfjs-dist';\n\nfunction isSSR() {\n  return typeof window === 'undefined';\n}\n\nif (!isSSR()) {\n  window['pdfjs-dist/build/pdf'] = require('pdfjs-dist/build/pdf');\n  require('pdfjs-dist/web/compatibility');\n  require('pdfjs-dist/web/pdf_viewer');\n\n  PDFJS.verbosity = (<any>PDFJS).VERBOSITY_LEVELS.errors;\n}\n\n@Component({\n  selector: 'pdf-viewer',\n  template: `<div class=\"ng2-pdf-viewer-container\"><div class=\"pdfViewer\"></div></div>`,\n  styles: [\n`\n.ng2-pdf-viewer-container {\n    overflow-x: auto;\n}\n:host /deep/ .textLayer {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  opacity: 0.2;\n  line-height: 1.0;\n}\n\n:host /deep/ .textLayer > div {\n  color: transparent;\n  position: absolute;\n  white-space: pre;\n  cursor: text;\n  -webkit-transform-origin: 0% 0%;\n  -moz-transform-origin: 0% 0%;\n  -o-transform-origin: 0% 0%;\n  -ms-transform-origin: 0% 0%;\n  transform-origin: 0% 0%;\n}\n\n:host /deep/ .textLayer .highlight {\n  margin: -1px;\n  padding: 1px;\n\n  background-color: #002bff;\n  border-radius: 4px;\n}\n\n:host /deep/ .textLayer .highlight.begin {\n  border-radius: 4px 0px 0px 4px;\n}\n\n:host /deep/ .textLayer .highlight.end {\n  border-radius: 0px 4px 4px 0px;\n}\n\n:host /deep/ .textLayer .highlight.middle {\n  border-radius: 0px;\n}\n\n:host /deep/ .textLayer .highlight.selected {\n  background-color: rgb(0, 100, 0);\n}\n\n:host /deep/ .textLayer ::selection { background: #002bff; }\n:host /deep/ .textLayer ::-moz-selection { background: #002bff; }\n\n:host /deep/ .textLayer .endOfContent {\n  display: block;\n  position: absolute;\n  left: 0px;\n  top: 100%;\n  right: 0px;\n  bottom: 0px;\n  z-index: -1;\n  cursor: default;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  -moz-user-select: none;\n}\n\n:host /deep/ .textLayer .endOfContent.active {\n  top: 0px;\n}\n\n\n:host /deep/ .annotationLayer section {\n  position: absolute;\n}\n\n:host /deep/ .annotationLayer .linkAnnotation > a {\n  position: absolute;\n  font-size: 1em;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n:host /deep/ .annotationLayer .linkAnnotation > a /* -ms-a */  {\n  background: url(\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\") 0 0 repeat;\n}\n\n:host /deep/ .annotationLayer .linkAnnotation > a:hover {\n  opacity: 0.2;\n  background: #002bff;\n  box-shadow: 0px 2px 10px #002bff;\n}\n\n:host /deep/ .annotationLayer .textAnnotation img {\n  position: absolute;\n  cursor: pointer;\n}\n\n:host /deep/ .annotationLayer .textWidgetAnnotation input,\n:host /deep/ .annotationLayer .textWidgetAnnotation textarea,\n:host /deep/ .annotationLayer .choiceWidgetAnnotation select,\n:host /deep/ .annotationLayer .buttonWidgetAnnotation.checkBox input,\n:host /deep/ .annotationLayer .buttonWidgetAnnotation.radioButton input {\n  background-color: #002bff;\n  border: 1px solid transparent;\n  box-sizing: border-box;\n  font-size: 9px;\n  height: 100%;\n  padding: 0 3px;\n  vertical-align: top;\n  width: 100%;\n}\n\n:host /deep/ .annotationLayer .textWidgetAnnotation textarea {\n  font: message-box;\n  font-size: 9px;\n  resize: none;\n}\n\n:host /deep/ .annotationLayer .textWidgetAnnotation input[disabled],\n:host /deep/ .annotationLayer .textWidgetAnnotation textarea[disabled],\n:host /deep/ .annotationLayer .choiceWidgetAnnotation select[disabled],\n:host /deep/ .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled],\n:host /deep/ .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled] {\n  background: none;\n  border: 1px solid transparent;\n  cursor: not-allowed;\n}\n\n:host /deep/ .annotationLayer .textWidgetAnnotation input:hover,\n:host /deep/ .annotationLayer .textWidgetAnnotation textarea:hover,\n:host /deep/ .annotationLayer .choiceWidgetAnnotation select:hover,\n:host /deep/ .annotationLayer .buttonWidgetAnnotation.checkBox input:hover,\n:host /deep/ .annotationLayer .buttonWidgetAnnotation.radioButton input:hover {\n  border: 1px solid #000;\n}\n\n:host /deep/ .annotationLayer .textWidgetAnnotation input:focus,\n:host /deep/ .annotationLayer .textWidgetAnnotation textarea:focus,\n:host /deep/ .annotationLayer .choiceWidgetAnnotation select:focus {\n  background: none;\n  border: 1px solid transparent;\n}\n\n:host /deep/ .annotationLayer .textWidgetAnnotation input.comb {\n  font-family: monospace;\n  padding-left: 2px;\n  padding-right: 0;\n}\n\n:host /deep/ .annotationLayer .textWidgetAnnotation input.comb:focus {\n  width: 115%;\n}\n\n:host /deep/ .annotationLayer .buttonWidgetAnnotation.checkBox input,\n:host /deep/ .annotationLayer .buttonWidgetAnnotation.radioButton input {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  -ms-appearance: none;\n  appearance: none;\n}\n\n:host /deep/ .annotationLayer .popupWrapper {\n  position: absolute;\n  width: 20em;\n}\n\n:host /deep/ .annotationLayer .popup {\n  position: absolute;\n  z-index: 200;\n  max-width: 20em;\n  background-color: #FFFF99;\n  box-shadow: 0px 2px 5px #333;\n  border-radius: 2px;\n  padding: 0.6em;\n  margin-left: 5px;\n  cursor: pointer;\n  word-wrap: break-word;\n}\n\n:host /deep/ .annotationLayer .popup h1 {\n  font-size: 1em;\n  border-bottom: 1px solid #000000;\n  padding-bottom: 0.2em;\n}\n\n:host /deep/ .annotationLayer .popup p {\n  padding-top: 0.2em;\n}\n\n:host /deep/ .annotationLayer .highlightAnnotation,\n:host /deep/ .annotationLayer .underlineAnnotation,\n:host /deep/ .annotationLayer .squigglyAnnotation,\n:host /deep/ .annotationLayer .strikeoutAnnotation,\n:host /deep/ .annotationLayer .fileAttachmentAnnotation {\n  cursor: pointer;\n}\n\n:host /deep/ .pdfViewer .canvasWrapper {\n  overflow: hidden;\n}\n\n:host /deep/ .pdfViewer .page {\n  direction: ltr;\n  width: 816px;\n  height: 1056px;\n  margin: 1px auto -8px auto;\n  position: relative;\n  overflow: visible;\n  border: 9px solid transparent;\n  background-clip: content-box;\n  border-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=') 9 9 repeat;\n  background-color: white;\n}\n\n:host /deep/ .pdfViewer.removePageBorders .page {\n  margin: 0px auto 10px auto;\n  border: none;\n}\n\n:host /deep/ .pdfViewer.singlePageView {\n  display: inline-block;\n}\n\n:host /deep/ .pdfViewer.singlePageView .page {\n  margin: 0;\n  border: none;\n}\n\n:host /deep/ .pdfViewer .page canvas {\n  margin: 0;\n  display: block;\n}\n\n:host /deep/ .pdfViewer .page .loadingIcon {\n  position: absolute;\n  display: block;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  background: url('data:image/gif;base64,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') center no-repeat;\n}\n`\n  ]\n})\n\nexport class PdfViewerComponent implements OnChanges, OnInit {\n  static CSS_UNITS: number = 96.0 / 72.0;\n\n  public pdfLinkService: any;\n  public pdfViewer: any;\n\n  private _renderText: boolean = true;\n  private _stickToPage: boolean = false;\n  private _originalSize: boolean = true;\n  private _pdf: PDFDocumentProxy;\n  private _page: number = 1;\n  private _zoom: number = 1;\n  private _rotation: number = 0;\n  private _showAll: boolean = true;\n  private _canAutoResize: boolean = true;\n  private _fitToPage: boolean = false;\n  private _externalLinkTarget: string = 'blank';\n  private lastLoaded: string | Uint8Array | PDFSource;\n  private resizeTimeout: NodeJS.Timer;\n\n  @Output('after-load-complete') afterLoadComplete = new EventEmitter<PDFDocumentProxy>();\n  @Output('error') onError = new EventEmitter<any>();\n  @Output('on-progress') onProgress = new EventEmitter<PDFProgressData>();\n\n  constructor(private element: ElementRef) {\n    if (!isSSR() && typeof PDFJS.workerSrc !== 'string') {\n      PDFJS.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${ (PDFJS as any).version }/pdf.worker.min.js`;\n    }\n  }\n\n  ngOnInit() {\n    if (!isSSR()) {\n      this.setupViewer();\n    }\n  }\n\n  @HostListener('window:resize', [])\n  public onPageResize() {\n    if (!this._canAutoResize) {\n      return;\n    }\n\n    if (this.resizeTimeout) {\n      clearTimeout(this.resizeTimeout);\n    }\n\n    this.resizeTimeout = setTimeout(() => {\n      this.updateSize();\n    }, 100);\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (isSSR()) {\n      return;\n    }\n\n    if ('src' in changes) {\n      this.loadPDF();\n    } else if (this._pdf) {\n      if ('renderText' in changes) {\n        this.setupViewer();\n      }\n      this.update();\n    }\n  }\n\n  @Input()\n  src: string | Uint8Array | PDFSource;\n\n  @Input('page')\n  set page(_page) {\n    _page = parseInt(_page, 10);\n\n    if (this._pdf && !this.isValidPageNumber(_page)) {\n      _page = 1;\n    }\n\n    this._page = _page;\n    this.pageChange.emit(_page);\n  }\n\n  @Output() pageChange: EventEmitter<number> = new EventEmitter<number>(true);\n\n  @Input('render-text')\n  set renderText(renderText: boolean) {\n    this._renderText = renderText;\n  }\n\n  @Input('original-size')\n  set originalSize(originalSize: boolean) {\n    this._originalSize = originalSize;\n  }\n\n  @Input('show-all')\n  set showAll(value: boolean) {\n    this._showAll = value;\n  }\n\n  @Input('stick-to-page')\n  set stickToPage(value: boolean) {\n    this._stickToPage = value;\n  }\n\n  @Input('zoom')\n  set zoom(value: number) {\n    if (value <= 0) {\n      return;\n    }\n\n    this._zoom = value;\n  }\n\n  get zoom() {\n    return this._zoom;\n  }\n\n  @Input('rotation')\n  set rotation(value: number) {\n    if (!(typeof value === 'number' && value % 90 === 0)) {\n      console.warn('Invalid pages rotation angle.');\n      return;\n    }\n\n    this._rotation = value;\n  }\n\n  @Input('external-link-target')\n  set externalLinkTarget(value: string) {\n    this._externalLinkTarget = value;\n  }\n\n  @Input('autoresize')\n  set autoresize(value: boolean) {\n    this._canAutoResize = Boolean(value);\n  }\n\n  @Input('fit-to-page')\n  set fitToPage(value: boolean) {\n    this._fitToPage = Boolean(value);\n  }\n\n  public setupViewer() {\n    (<any>PDFJS).disableTextLayer = !this._renderText;\n\n    PdfViewerComponent.setExternalLinkTarget(this._externalLinkTarget);\n\n    this.pdfLinkService = new (<any>PDFJS).PDFLinkService();\n\n    const pdfOptions: PDFViewerParams | any = {\n      container: this.element.nativeElement.querySelector('div'),\n      removePageBorders: true,\n      linkService: this.pdfLinkService\n    };\n\n    this.pdfViewer = new PDFJS.PDFViewer(pdfOptions);\n    this.pdfLinkService.setViewer(this.pdfViewer);\n  }\n\n  public updateSize() {\n    if (!this._showAll) {\n      this.renderPage(this._page);\n      return;\n    }\n\n    this._pdf.getPage(this.pdfViewer.currentPageNumber).then((page: PDFPageProxy) => {\n      const viewport = page.getViewport(this._zoom, this._rotation);\n      let scale = this._zoom;\n      let stickToPage = true;\n\n      // Scale the document when it shouldn't be in original size or doesn't fit into the viewport\n      if (!this._originalSize || (this._fitToPage && viewport.width > this.element.nativeElement.offsetWidth)) {\n        scale = this.getScale(page.getViewport(1).width);\n        stickToPage = !this._stickToPage;\n      }\n\n      this.pdfViewer._setScale(scale, stickToPage);\n    });\n  }\n\n  private isValidPageNumber(page: number): boolean {\n    return this._pdf.numPages >= page && page >= 1;\n  }\n\n  static setExternalLinkTarget(type: string) {\n    switch (type) {\n      case 'blank':\n        (<any>PDFJS).externalLinkTarget = (<any>PDFJS).LinkTarget.BLANK;\n        break;\n      case 'none':\n        (<any>PDFJS).externalLinkTarget = (<any>PDFJS).LinkTarget.NONE;\n        break;\n      case 'self':\n        (<any>PDFJS).externalLinkTarget = (<any>PDFJS).LinkTarget.SELF;\n        break;\n      case 'parent':\n        (<any>PDFJS).externalLinkTarget = (<any>PDFJS).LinkTarget.PARENT;\n        break;\n      case 'top':\n        (<any>PDFJS).externalLinkTarget = (<any>PDFJS).LinkTarget.TOP;\n        break;\n    }\n  }\n\n  private loadPDF() {\n    if (!this.src) {\n      return;\n    }\n\n    if (this.lastLoaded === this.src) {\n      this.update();\n      return;\n    }\n\n    let loadingTask: any = PDFJS.getDocument(this.src as any);\n\n    loadingTask.onProgress = (progressData: PDFProgressData) => {\n      this.onProgress.emit(progressData);\n    };\n\n    const src = this.src;\n    (<PDFPromise<PDFDocumentProxy>>loadingTask.promise)\n      .then((pdf: PDFDocumentProxy) => {\n        this._pdf = pdf;\n        this.lastLoaded = src;\n\n        this.afterLoadComplete.emit(pdf);\n\n        this.update();\n      }, (error: any) => {\n        this.onError.emit(error);\n      });\n  }\n\n  private update() {\n    if (this._showAll) {\n      this.setupViewer();\n\n      if (this.pdfViewer) {\n        this.pdfViewer.setDocument(this._pdf);\n      }\n    }\n\n    if (this.pdfLinkService) {\n      this.pdfLinkService.setDocument(this._pdf, null);\n    }\n\n    this.page = this._page;\n\n    this.render();\n  }\n\n  private render() {\n    if (this._showAll) {\n      this.renderMultiplePages();\n    } else {\n      this.renderPage(this._page);\n    }\n  }\n\n  private renderMultiplePages() {\n    if (!this.isValidPageNumber(this._page)) {\n      this._page = 1;\n    }\n\n    if (this._rotation !== 0 || this.pdfViewer.pagesRotation !== this._rotation) {\n      setTimeout(() => {\n        this.pdfViewer.pagesRotation = this._rotation;\n      });\n    }\n\n    if (this._stickToPage) {\n      setTimeout(() => {\n        this.pdfViewer.currentPageNumber = this._page;\n      });\n    }\n\n    this.updateSize();\n  }\n\n  private renderPage(pageNumber: number) {\n    this._pdf.getPage(pageNumber).then( (page: PDFPageProxy) => {\n      let viewport = page.getViewport(this._zoom, this._rotation);\n      let container = this.element.nativeElement.querySelector('.pdfViewer');\n      let scale = this._zoom;\n\n      // Scale the document when it shouldn't be in original size or doesn't fit into the viewport\n      if (!this._originalSize || (this._fitToPage && viewport.width > this.element.nativeElement.offsetWidth)) {\n        viewport = page.getViewport(this.element.nativeElement.offsetWidth / viewport.width, this._rotation);\n        scale = this.getScale(page.getViewport(1).width);\n      }\n\n      PdfViewerComponent.removeAllChildNodes(container);\n\n      (<any>PDFJS).disableTextLayer = !this._renderText;\n\n      let pdfOptions: PDFViewerParams | any = {\n        container,\n        removePageBorders: true,\n        defaultViewport: viewport,\n        scale,\n        id: this._page,\n      };\n\n      if (this._renderText) {\n        this.pdfLinkService = new (<any>PDFJS).PDFLinkService();\n        pdfOptions.linkService = this.pdfLinkService;\n        PdfViewerComponent.setExternalLinkTarget(this._externalLinkTarget);\n        pdfOptions.textLayerFactory = new (<any>PDFJS).DefaultTextLayerFactory();\n        pdfOptions.annotationLayerFactory = new (<any>PDFJS).DefaultAnnotationLayerFactory();\n      }\n\n      let pdfPageView = new (<any>PDFJS).PDFPageView(pdfOptions);\n\n      if (this._renderText) {\n        this.pdfLinkService.setViewer(pdfPageView);\n      }\n\n      if (this._rotation !== 0 || pdfPageView.rotation !== this._rotation) {\n        pdfPageView.rotation = this._rotation;\n      }\n\n      pdfPageView.setPdfPage(page);\n      return pdfPageView.draw();\n    });\n  }\n\n  static removeAllChildNodes(element: HTMLElement) {\n    while (element.firstChild) {\n      element.removeChild(element.firstChild);\n    }\n  }\n\n  private getScale(viewportWidth) {\n    const offsetWidth = this.element.nativeElement.offsetWidth;\n\n    if (offsetWidth === 0) {\n      return 1;\n    }\n\n    return this._zoom * (offsetWidth / viewportWidth) / PdfViewerComponent.CSS_UNITS;\n  }\n}\n"]}